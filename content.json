{"meta":{"title":"Hexo","subtitle":"","description":"","author":"John Doe","url":"http://example.com","root":"/"},"pages":[],"posts":[{"title":"breach1靶场渗透","slug":"breach1靶场渗透","date":"2021-09-16T16:25:49.000Z","updated":"2021-09-16T16:32:09.171Z","comments":true,"path":"2021/09/17/breach1靶场渗透/","link":"","permalink":"http://example.com/2021/09/17/breach1%E9%9D%B6%E5%9C%BA%E6%B8%97%E9%80%8F/","excerpt":"","text":"靶场搭建 下载好breach1.0镜像文件后，创建虚拟机，注意要将虚拟机网段设置成仅主机模式。网段设置为192.168.110.0，虚拟机会默认将ip设置为192.168.110.140。 测试： 因为IP已知，首先对靶场进行端口扫描，借助nmap: 1nmap -p 1-65535 192.168.110.140 扫描后看到结果，所有的端口都是打开状态，因此判断可能是采用了ips，或者waf防护 尝试在浏览器中访问靶机IP，看到一些没啥用的信息（讲故事） 尝试看看源码？也就这样了。看到一段加密过的值 1&lt;!------Y0dkcFltSnZibk02WkdGdGJtbDBabVZsYkNSbmIyOWtkRzlpWldGbllXNW5KSFJo -----&gt; 这段值是64位，根据常见的加密算法的特征，猜测是base64加密。 （md5:32位，sha1：40位）尝试用自动解码工具解码看看，果然是base64，但还是看不懂，难道加了盐？再试一次，能看懂了。 解码出现： 1pgibbons:damnitfeel$goodtobeagang$ta 猜测是某个用户账号密码 回到原来的初始页面，点击图片，进入一个类似导航的页面： 依次点点看 ，再最后一个链接，进入了一个后台直接看到是什么cms ，后面可以查询看看这个impress cms 有没有什么漏洞 用之前的密码试试看？果然进入： 先看看cms是不是有什么漏洞。msf打开： 1searchsploit impresscms 有是有就是不知道这里具体的版本： 依次尝试，并不行。。。 继续看看页面上有啥，这里有三个未读邮件，进去看看 第三封邮件有信息，在 192.168.110.140/.keystore 位置保存了文件 keystore是keytool（jdk里自带）生成的密钥、证书存储的地方，这里有什么关键的信息？可以用keytool提取java里的密钥、证书。不管别的，先下载这个keystore。但是没有密钥口令也没法解开。 继续寻找密钥，点点点，在View Account内有个一content链接打开看看？ 看看提示，有个文件： http://192.168.110.140/impresscms/_SSL_test_phase1.pcap。pcap文件？什么玩意？搜搜看，原来是wireshark的流量包，下了再说。继续看，生成keystore需要的别名，密钥都是“tomcat”。在下载keystore的目录下，使用keytool生成证书： 1keytool -importkeystore -srckeystore E:\\Download\\keystore -destkeystore E:\\Download\\\\tomcat.p12 -deststoretype PKCS12 -srcalias tomcat 密钥库口令就是tomcat。可以看到tomcat.p12证书生成。 打开SSL_test_phase1.pcap文件，https协议，用了TSL加密，因此导入刚刚生成的证书来解密。 编辑–&gt;首选项–&gt;Protocols–&gt;TLS–&gt;edit 回到wireshark主页面，过滤一下信息： 1ip.src == 192.168.110.140 || ip.dst == 192.168.110.140 and http","categories":[],"tags":[{"name":"breach1.0 渗透测试","slug":"breach1-0-渗透测试","permalink":"http://example.com/tags/breach1-0-%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}]},{"title":"myfirstblog","slug":"myfirstblog","date":"2021-09-15T12:00:35.000Z","updated":"2021-09-16T16:21:24.360Z","comments":true,"path":"2021/09/15/myfirstblog/","link":"","permalink":"http://example.com/2021/09/15/myfirstblog/","excerpt":"","text":"我的博客，分享渗透测试学习的点点滴滴","categories":[],"tags":[]}],"categories":[],"tags":[{"name":"breach1.0 渗透测试","slug":"breach1-0-渗透测试","permalink":"http://example.com/tags/breach1-0-%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/"}]}